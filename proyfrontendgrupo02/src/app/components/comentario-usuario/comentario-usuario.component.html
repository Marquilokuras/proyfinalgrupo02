<!-- GESTOR -->
  <div *ngIf="tipoLogged()  == ('gestor')" class="navbar-item">
    <div class="container-fluid">
      <h2 class="text-titulo">Foro de Comentarios</h2>
      <ol class="list-group">
        <li class="list-group-item d-flex justify-content-between align-items-start" *ngFor="let div of listaComentarios">
          <div class=" ms-2 me-auto">
            <div class="fw-bold"><i class="fa-solid fa-user"></i>{{div.usuario}}
              <span *ngIf="evaluarPuntaje(div.puntajeComentario) == 'Alto'" class="badge bg-success rounded-pill"><i class="bi bi-star-fill"></i>{{div.puntajeComentario}}</span>
              <span *ngIf="evaluarPuntaje(div.puntajeComentario) == 'Medio'" class="badge bg-warning rounded-pill"><i class="bi bi-star-fill"></i>{{div.puntajeComentario}}</span>
              <span *ngIf="evaluarPuntaje(div.puntajeComentario) == 'Bajo'" class="badge bg-danger rounded-pill"><i class="bi bi-star-fill"></i>{{div.puntajeComentario}}</span>
            </div>
            <div class="fechacom">{{div.fechaComentario}}</div>
            <div class="ps-4">{{div.descripcionComentario}}</div>
          </div>
          <button type="submit" (click)="eliminarComentario(div)" class="btn btn-danger"><i class="bi bi-trash3"></i></button>
        </li>
      </ol>
    </div>
  </div>


<!-- CLIENTE -->

<div *ngIf="tipoLogged()  == ('cliente')" class="navbar-item">

  <div class="container-fluid">
        <div class="card-cliente">
          <form class="p-4" #commentForm="ngForm">

            <div class="fw-bold text-light"><i class="fa-solid fa-user" style="color: #5680c8;"></i>{{comentario.usuario}}</div>

            <div class="fechacom1">{{comentario.fechaComentario}}</div>

            <div class="rating">
              <input type="radio" hidden name="rate" id="rating_5" (click)="setPuntaje(5)"
                [checked]="comentario.puntajeComentario === 5">
              <label for="rating_5"></label>

              <input type="radio" hidden name="rate" id="rating_4" (click)="setPuntaje(4)"
                [checked]="comentario.puntajeComentario === 4">
              <label for="rating_4"></label>

              <input type="radio" hidden name="rate" id="rating_3" (click)="setPuntaje(3)"
                [checked]="comentario.puntajeComentario === 3">
              <label for="rating_3"></label>

              <input type="radio" hidden name="rate" id="rating_2" (click)="setPuntaje(2)"
                [checked]="comentario.puntajeComentario === 2">
              <label for="rating_2"></label>

              <input type="radio" hidden name="rate" id="rating_1" (click)="setPuntaje(1)"
                [checked]="comentario.puntajeComentario === 1">
              <label for="rating_1"></label>
            </div>

            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label text-light">Comentario : </label>
              <textarea class="form-control " name="descripcionComentario"
                [(ngModel)]="comentario.descripcionComentario" placeholder="Escribe tu comentario"></textarea>
            </div>

            <button type="submit" [disabled]="commentForm.invalid" *ngIf="!comentario._id" (click)="guardarComentario()"
              class="btn btn-primary">Comentar</button>
            <button type="submit" [disabled]="commentForm.invalid" *ngIf="comentario._id" (click)="modificarComentario()"
              class="btn btn-primary">Modificar</button>
            <button type="submit" *ngIf="comentario._id" (click)="cancelarComentario()"
              class="btn btn-primary">Cancelar</button>
          </form>
        </div>

        <ol class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-start" *ngFor="let div of listaComentarios">
            <div class=" ms-2 me-auto">
              <div class="fw-bold"><i class="fa-solid fa-user"></i>{{div.usuario}}
                <span *ngIf="evaluarPuntaje(div.puntajeComentario) == 'Alto'" class="badge bg-success rounded-pill"><i class="bi bi-star-fill"></i>{{div.puntajeComentario}}</span>
                <span *ngIf="evaluarPuntaje(div.puntajeComentario) == 'Medio'" class="badge bg-warning rounded-pill"><i class="bi bi-star-fill"></i>{{div.puntajeComentario}}</span>
                <span *ngIf="evaluarPuntaje(div.puntajeComentario) == 'Bajo'" class="badge bg-danger rounded-pill"><i class="bi bi-star-fill"></i>{{div.puntajeComentario}}</span>
              </div>
              <div class="fechacom">{{div.fechaComentario}}</div>
              <div class=" descripcion-comentario ps-4">{{div.descripcionComentario}}</div>
            </div>
            <button *ngIf="div.usuario==usuario" type="submit" (click)="eliminarComentario(div)" class="btn btn-danger custom-btn"><i
              class="bi bi-x"></i></button>
          <button *ngIf="div.usuario==usuario" type="submit" (click)="obtenerComentario(div._id)" class="btn btn-primary custom-btn"><i
              class="bi bi-pencil-fill"></i></button>
          </li>
        </ol>
      </div>
</div>


<!--NO REGISTRADO-->
<div class="container-fluid">
  <div *ngIf="!usuarioService.userLoggedIn()">
    <h2 class="text-titulo">Foro de Comentarios</h2>
    <ol class="list-group">
      <li class="list-group-item d-flex justify-content-between align-items-start" *ngFor="let div of listaComentarios">
        <div class=" ms-2 me-auto">
          <div class="fw-bold"><i class="fa-solid fa-user"></i>{{div.usuario}}
            <span *ngIf="evaluarPuntaje(div.puntajeComentario) == 'Alto'" class="badge bg-success rounded-pill"><i class="bi bi-star-fill"></i>{{div.puntajeComentario}}</span>
            <span *ngIf="evaluarPuntaje(div.puntajeComentario) == 'Medio'" class="badge bg-warning rounded-pill"><i class="bi bi-star-fill"></i>{{div.puntajeComentario}}</span>
            <span *ngIf="evaluarPuntaje(div.puntajeComentario) == 'Bajo'" class="badge bg-danger rounded-pill"><i class="bi bi-star-fill"></i>{{div.puntajeComentario}}</span>
          </div>
          <div class="fechacom">{{div.fechaComentario}}</div>
          <div class="ps-4">{{div.descripcionComentario}}</div>
        </div>
      </li>
    </ol>
  </div>
</div>
